<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rarity Roulette</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; background: #1e2235; min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background: #282d42; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); overflow: hidden; }
        header { background: #1e2235; color: white; padding: 30px; text-align: center; border-bottom: 1px solid #3a4055; }
        .header-logo { max-width: 300px; height: auto; display: block; margin: 0 auto 15px auto; }
        header p { font-size: 1.1em; opacity: 0.9; line-height: 1.6; max-width: 900px; margin: 0 auto; color: #b8bcc8; }
        .main-content { display: grid; grid-template-columns: 400px 1fr; gap: 0; min-height: 600px; }
        .controls { background: #2d324a; padding: 30px; border-right: 1px solid #3a4055; }
        .control-group { margin-bottom: 25px; }
        .control-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #e8e9ed; font-size: 0.95em; position: relative; cursor: help; }
        .info-icon { display: inline-block; width: 16px; height: 16px; background: #f56476; color: white; border-radius: 50%; text-align: center; line-height: 16px; font-size: 12px; margin-left: 5px; cursor: help; }
        .tooltip { visibility: hidden; position: absolute; z-index: 1000; background: #1e2235; color: #e8e9ed; padding: 10px; border-radius: 6px; font-size: 0.85em; font-weight: normal; width: 280px; top: 100%; left: 0; margin-top: 5px; line-height: 1.4; box-shadow: 0 4px 12px rgba(0,0,0,0.4); border: 1px solid #3a4055; }
        .control-group label:hover .tooltip { visibility: visible; }
        .frequency-input { display: flex; align-items: center; gap: 8px; margin-top: 8px; font-size: 0.9em; color: #b8bcc8; }
        .frequency-input input { width: 80px; padding: 6px; border: 1px solid #3a4055; border-radius: 4px; background: #1e2235; color: #e8e9ed; }
        .control-group input[type="number"] { width: 100%; padding: 10px; border: 2px solid #3a4055; border-radius: 6px; font-size: 1em; transition: border-color 0.3s; background: #1e2235; color: #e8e9ed; }
        .control-group input[type="number"]:focus { outline: none; border-color: #f56476; }
        .slider-container { margin-top: 10px; }
        .slider-container input[type="range"] { width: 100%; height: 6px; background: #3a4055; border-radius: 3px; outline: none; -webkit-appearance: none; }
        .slider-marks { display: flex; justify-content: space-between; font-size: 0.75em; color: #8a8f9f; margin-top: 5px; padding: 0 2px; }
        .slider-container input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #f56476; cursor: pointer; border-radius: 50%; }
        .slider-container input[type="range"]::-moz-range-thumb { width: 18px; height: 18px; background: #f56476; cursor: pointer; border-radius: 50%; border: none; }
        .slider-value { display: inline-block; background: #f56476; color: white; padding: 4px 12px; border-radius: 12px; font-size: 0.9em; font-weight: 600; margin-left: 10px; }
        select { width: 100%; padding: 10px; border: 2px solid #3a4055; border-radius: 6px; font-size: 1em; background: #1e2235; color: #e8e9ed; cursor: pointer; }
        select:focus { outline: none; border-color: #f56476; }
        button { width: 100%; padding: 14px; background: #f56476; color: white; border: none; border-radius: 6px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s, background 0.2s; }
        button:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(245, 100, 118, 0.4); background: #ff7a8a; }
        button:active { transform: translateY(0); }
        .version-note { font-size: 0.85em; color: #8a8f9f; text-align: center; margin-top: 15px; }
        .version-note a { color: #f56476; text-decoration: none; }
        .version-note a:hover { text-decoration: underline; }
        .results { padding: 30px; background: #282d42; overflow-x: auto; }
        .results-placeholder { display: flex; align-items: center; justify-content: center; height: 100%; color: #8a8f9f; font-size: 1.2em; text-align: center; }
        .results-content { display: none; }
        .results-content.show { display: block; }
        .frequency-tree { background: #2d324a; border-radius: 12px; padding: 30px; margin-bottom: 30px; overflow-x: auto; border: 1px solid #3a4055; }
        .frequency-tree h3 { color: #f56476; margin-bottom: 20px; font-size: 1.3em; text-align: center; }
        .tree-container { display: flex; flex-direction: column; align-items: center; min-width: 700px; }
        .tree-level { display: flex; justify-content: center; width: 100%; position: relative; }
        .tree-node { background: #1e2235; border: 3px solid #f56476; border-radius: 12px; padding: 15px 25px; text-align: center; position: relative; box-shadow: 0 4px 12px rgba(0,0,0,0.3); min-width: 140px; }
        .tree-node.root { background: #f56476; color: white; border: none; }
        .tree-node.condition-yes { border-color: #e74c3c; background: #3a2a2d; }
        .tree-node.condition-no { border-color: #27ae60; background: #2a3a2d; }
        .tree-node.true-positive { background: #c0392b; color: white; border-color: #a93226; }
        .tree-node.false-negative { background: #d68910; color: white; border-color: #b9770e; }
        .tree-node.false-positive { background: #d35400; color: white; border-color: #a04000; }
        .tree-node.true-negative { background: #1e8449; color: white; border-color: #196f3d; }
        .node-label { font-size: 0.85em; color: #b8bcc8; margin-bottom: 5px; }
        .tree-node.root .node-label, .tree-node.true-positive .node-label, .tree-node.false-negative .node-label, .tree-node.false-positive .node-label, .tree-node.true-negative .node-label { color: rgba(255,255,255,0.9); }
        .node-count { font-size: 1.4em; font-weight: 700; color: #e8e9ed; }
        .tree-node.root .node-count, .tree-node.true-positive .node-count, .tree-node.false-negative .node-count, .tree-node.false-positive .node-count, .tree-node.true-negative .node-count { color: white; }
        .node-percent { font-size: 0.8em; color: #8a8f9f; margin-top: 3px; }
        .tree-node.root .node-percent, .tree-node.true-positive .node-percent, .tree-node.false-negative .node-percent, .tree-node.false-positive .node-percent, .tree-node.true-negative .node-percent { color: rgba(255,255,255,0.8); }
        .tree-branches { display: flex; justify-content: center; gap: 80px; margin-top: 20px; position: relative; }
        .tree-branches::before { content: ''; position: absolute; top: -20px; left: 50%; transform: translateX(-50%); width: 2px; height: 20px; background: #f56476; }
        .branch-group { display: flex; flex-direction: column; align-items: center; position: relative; }
        .branch-connector { width: 2px; height: 30px; background: #3a4055; position: relative; }
        .sub-branches { display: flex; gap: 20px; margin-top: 20px; }
        .sub-branch { display: flex; flex-direction: column; align-items: center; }
        .sub-connector { width: 2px; height: 25px; background: #3a4055; }
        .key-insight { background: #3a2a2d; border: 2px solid #f56476; border-radius: 12px; padding: 20px; margin: 20px 0; text-align: center; }
        .key-insight-label { font-size: 0.9em; color: #f56476; font-weight: 600; margin-bottom: 10px; }
        .key-insight-value { font-size: 1.8em; font-weight: 700; color: #e8e9ed; }
        .key-insight-explain { font-size: 0.95em; color: #b8bcc8; margin-top: 10px; line-height: 1.5; }
        .key-insight-explain strong { color: #e8e9ed; }
        .interpretation { background: #3a2a2d; border-left: 4px solid #f56476; padding: 20px; border-radius: 6px; line-height: 1.8; }
        .interpretation h3 { color: #f56476; margin-bottom: 15px; font-size: 1.3em; }
        .interpretation p { color: #e8e9ed; margin-bottom: 12px; }
        .stat-highlight { background: #f56476; color: white; padding: 2px 6px; border-radius: 3px; font-weight: 700; display: inline-block; white-space: nowrap; }
        .info-section { background: #2d324a; padding: 30px; margin-top: 20px; border-radius: 8px; line-height: 1.6; border: 1px solid #3a4055; }
        .info-section h3 { color: #f56476; margin-bottom: 15px; font-size: 1.3em; }
        .info-section p { margin-bottom: 12px; color: #b8bcc8; }
        .info-section ul { margin-left: 20px; margin-bottom: 15px; }
        .info-section li { margin-bottom: 8px; color: #b8bcc8; }
        .info-section a { color: #f56476; text-decoration: none; }
        .info-section a:hover { text-decoration: underline; color: #ff7a8a; }
        .info-section strong { color: #e8e9ed; }
        footer { text-align: center; padding: 20px; color: #8a8f9f; font-size: 0.9em; border-top: 1px solid #3a4055; background: #1e2235; }
        footer a { color: #f56476; text-decoration: none; }
        footer a:hover { text-decoration: underline; color: #ff7a8a; }
        @media (max-width: 968px) { .main-content { grid-template-columns: 1fr; } .controls { border-right: none; border-bottom: 1px solid #3a4055; } .tooltip { width: 220px; } .tree-container { min-width: 600px; } .tree-branches { gap: 40px; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="rarity_roulette_logo.png" alt="Rarity Roulette" class="header-logo">
            <p>This simulator estimates outcomes of mass screenings for low-prevalence problems to help people correct for base rate bias. When something is very rare, even in a highly accurate mass screening, the common (false positives) overwhelms the rare (true positives). When secondary screening cannot sort false from true positives without substantial costs and with high certainty, these programs may cause massive, preventable societal harm.</p>
        </header>
        
        <div class="main-content">
            <div class="controls">
                <div class="control-group">
                    <label for="scenario">Try a Real-World Example</label>
                    <select id="scenario" onchange="loadScenario()">
                        <option value="">-- Select a scenario --</option>
                        <option value="polygraph_suspicious">Fienberg/NAS, Polygraph - Suspicious Mode (2003)</option>
                        <option value="polygraph_friendly">Fienberg/NAS, Polygraph - Friendly Mode (2003)</option>
                        <option value="mammography">Harding Center, Mammography Screening (2021)</option>
                        <option value="psa">Harding Center, PSA Testing (2020)</option>
                        <option value="prenatal">Young-Saver/NYT, Prenatal Testing - DiGeorge Syndrome (2022)</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="population">Population Size</label>
                    <input type="number" id="population" value="1000" min="100" step="100">
                </div>
                
                <div class="control-group">
                    <label>
                        Base Rate (Prevalence)
                        <span class="info-icon">?</span>
                        <span class="tooltip">This represents the true occurrence rate (population-level incidence) of the condition/problem being screened. For rare problems, this might be 1 in 10,000 or less.</span>
                    </label>
                    <div class="frequency-input">
                        <span style="margin-right: 8px;">1 in</span>
                        <input type="number" id="baseRateFreq" value="100" min="2" step="1" style="flex: 1;">
                    </div>
                    <small style="color: #8a8f9f; display: block; margin-top: 5px;">
                        Prevalence: <span id="prevalenceDisplay">1%</span>
                    </small>
                </div>
                
                <div class="control-group">
                    <label>
                        Test Accuracy (True Positive Rate)
                        <span class="slider-value" id="accuracyValue">75%</span>
                        <span class="info-icon">?</span>
                        <span class="tooltip">Also called "sensitivity." This is the probability that the test correctly identifies someone who actually has the condition. Higher accuracy means fewer false negatives (missed cases).</span>
                    </label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <div class="slider-container" style="flex: 1;">
                            <input type="range" id="accuracy" min="1" max="100" value="75" step="1">
                            <div class="slider-marks"><span>1%</span><span>20%</span><span>40%</span><span>60%</span><span>80%</span><span>100%</span></div>
                        </div>
                        <input type="number" id="accuracyInput" value="75" min="1" max="100" step="1" style="width: 60px; padding: 8px; border: 2px solid #3a4055; border-radius: 6px; font-size: 0.95em; background: #1e2235; color: #e8e9ed;">
                    </div>
                </div>
                
                <div class="control-group">
                    <label>
                        False Positive Rate
                        <span class="slider-value" id="thresholdValue">10%</span>
                        <span class="info-icon">?</span>
                        <span class="tooltip">The probability that someone WITHOUT the condition gets incorrectly flagged as positive. Lower is better, but even low rates create many false alarms when screening large populations.</span>
                    </label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <div class="slider-container" style="flex: 1;">
                            <input type="range" id="threshold" min="0.1" max="50" value="10" step="0.1">
                            <div class="slider-marks"><span>0.1%</span><span>10%</span><span>20%</span><span>30%</span><span>40%</span><span>50%</span></div>
                        </div>
                        <input type="number" id="thresholdInput" value="10" min="0.1" max="50" step="0.1" style="width: 60px; padding: 8px; border: 2px solid #3a4055; border-radius: 6px; font-size: 0.95em; background: #1e2235; color: #e8e9ed;">
                    </div>
                </div>
                
                <button onclick="generateResults()">Generate Results</button>
                
                <p class="version-note"><a href="./legacy/">View legacy table version</a></p>
            </div>
            
            <div class="results">
                <div class="results-placeholder" id="placeholder">Adjust parameters and click "Generate Results"</div>
                
                <div class="results-content" id="resultsContent">
                    <div class="frequency-tree">
                        <h3>ðŸŒ³ Frequency Tree: Follow the Numbers</h3>
                        <div class="tree-container" id="treeContainer"></div>
                    </div>
                    
                    <div class="key-insight">
                        <div class="key-insight-label">THE KEY QUESTION: If someone tests positive, what's the chance they actually have the condition?</div>
                        <div class="key-insight-value" id="ppvDisplay">â€”</div>
                        <div class="key-insight-explain" id="ppvExplain"></div>
                    </div>
                    
                    <div class="interpretation">
                        <h3>ðŸ“Š Results Summary</h3>
                        <div id="interpretationText"></div>
                    </div>
                    
                    <div class="info-section">
                        <h3>How to Read the Tree</h3>
                        <p><strong>Level 1:</strong> Start with the whole population at the top.</p>
                        <p><strong>Level 2:</strong> The population splits based on who actually has the condition (left, red border) versus who doesn't (right, green border). This split is determined by the <em>base rate</em>.</p>
                        <p><strong>Level 3:</strong> Each group then splits based on test results. Those with the condition may test positive (true positives) or negative (false negatives). Those without may test positive (false positives) or negative (true negatives).</p>
                        <p><strong>The critical insight:</strong> To find the probability that a positive test is correct, look at <em>all positive tests</em> â€” that's true positives plus false positives. The answer is: true positives Ã· (true positives + false positives).</p>
                    </div>
                    
                    <div class="info-section">
                        <h3>Real-World Examples</h3>
                        <ul>
                            <li><a href="https://nap.nationalacademies.org/read/10420/chapter/2#5" target="_blank">Fienberg/NAS, "The Polygraph and Lie Detection" (2003)</a> â€” Why mass polygraph screening fails</li>
                            <li><a href="https://www.hardingcenter.de/en/transfer-and-impact/fact-boxes/early-detection-of-cancer/early-detection-of-breast-cancer-by-mammography-screening" target="_blank">Harding Center, Mammography Screening (2021)</a> â€” Trade-offs in breast cancer screening</li>
                            <li><a href="https://www.hardingcenter.de/en/transfer-and-impact/fact-boxes/early-detection-of-cancer/early-detection-of-prostate-cancer-with-psa-testing" target="_blank">Harding Center, PSA Testing (2020)</a> â€” Prostate cancer screening trade-offs</li>
                            <li><a href="https://www.nytimes.com/2022/02/10/learning/lesson-plans/the-misleading-math-of-prenatal-tests.html" target="_blank">Young-Saver/NYT, Prenatal Testing (2022)</a> â€” False positives in genetic screening</li>
                        </ul>
                    </div>
                    
                    <div class="info-section">
                        <h3>Important Limitations</h3>
                        <ul>
                            <li>Accuracy may be inflated (lab vs. field conditions, publication bias)</li>
                            <li>Base rates may be uncertain or vary across subgroups</li>
                            <li>False positives carry hidden costs (unnecessary procedures, psychological harm, job loss)</li>
                            <li>This models only the classification pathway, not deterrence, elicitation, or resource reallocation effects</li>
                        </ul>
                        <p><strong>ðŸ“– Learn more:</strong> <a href="https://wildetruth.substack.com/p/rarity-roulette" target="_blank">Full explanation of why rare-event screening is dangerous</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer><a href="https://wildetruth.substack.com/p/rarity-roulette" target="_blank">Read more about this tool â†’</a></footer>
    
    <script>
        document.getElementById('accuracy').addEventListener('input', function(e) {
            document.getElementById('accuracyValue').textContent = e.target.value + '%';
            document.getElementById('accuracyInput').value = e.target.value;
        });
        document.getElementById('accuracyInput').addEventListener('input', function(e) {
            const value = Math.min(100, Math.max(1, parseInt(e.target.value) || 1));
            document.getElementById('accuracy').value = value;
            document.getElementById('accuracyValue').textContent = value + '%';
        });
        document.getElementById('threshold').addEventListener('input', function(e) {
            document.getElementById('thresholdValue').textContent = parseFloat(e.target.value).toFixed(1) + '%';
            document.getElementById('thresholdInput').value = parseFloat(e.target.value).toFixed(1);
        });
        document.getElementById('thresholdInput').addEventListener('input', function(e) {
            const value = Math.min(50, Math.max(0.1, parseFloat(e.target.value) || 0.1));
            document.getElementById('threshold').value = value;
            document.getElementById('thresholdValue').textContent = value.toFixed(1) + '%';
        });
        document.getElementById('baseRateFreq').addEventListener('input', function(e) {
            const denominator = parseInt(e.target.value) || 100;
            const prevalence = (1 / denominator * 100);
            document.getElementById('prevalenceDisplay').textContent = prevalence < 0.01 ? prevalence.toExponential(2) + '%' : prevalence.toFixed(4).replace(/\.?0+$/, '') + '%';
        });
        
        function loadScenario() {
            const scenario = document.getElementById('scenario').value;
            const scenarios = {
                polygraph_suspicious: { population: 10000, baseRate: 1000, accuracy: 80, falsePositiveRate: 16 },
                polygraph_friendly: { population: 10000, baseRate: 1000, accuracy: 20, falsePositiveRate: 0.39 },
                mammography: { population: 1000, baseRate: 200, accuracy: 90, falsePositiveRate: 10.05 },
                psa: { population: 1000, baseRate: 40, accuracy: 85, falsePositiveRate: 15.897 },
                prenatal: { population: 100000, baseRate: 4000, accuracy: 99.9, falsePositiveRate: 0.1 }
            };
            if (scenario && scenarios[scenario]) {
                const s = scenarios[scenario];
                document.getElementById('population').value = s.population;
                document.getElementById('baseRateFreq').value = s.baseRate;
                document.getElementById('accuracy').value = s.accuracy;
                document.getElementById('accuracyInput').value = s.accuracy;
                document.getElementById('threshold').value = s.falsePositiveRate;
                document.getElementById('thresholdInput').value = s.falsePositiveRate;
                document.getElementById('accuracyValue').textContent = s.accuracy + '%';
                document.getElementById('thresholdValue').textContent = s.falsePositiveRate.toFixed(1) + '%';
                const prevalence = (1 / s.baseRate * 100);
                document.getElementById('prevalenceDisplay').textContent = prevalence < 0.01 ? prevalence.toExponential(2) + '%' : prevalence.toFixed(4).replace(/\.?0+$/, '') + '%';
                generateResults();
            }
        }
        
        function formatNumber(num) {
            if (num < 1 && num > 0) return num.toFixed(2);
            return Math.round(num).toLocaleString('en-US');
        }
        
        function generateResults() {
            const population = parseInt(document.getElementById('population').value);
            const baseRateDenominator = parseInt(document.getElementById('baseRateFreq').value);
            const accuracy = parseFloat(document.getElementById('accuracy').value) / 100;
            const falsePositiveRate = parseFloat(document.getElementById('threshold').value) / 100;
            const baseRate = 1 / baseRateDenominator;
            const actualPositives = population * baseRate;
            const actualNegatives = population - actualPositives;
            const truePositives = actualPositives * accuracy;
            const falseNegatives = actualPositives - truePositives;
            const falsePositives = actualNegatives * falsePositiveRate;
            const trueNegatives = actualNegatives - falsePositives;
            const totalFlagged = truePositives + falsePositives;
            const ppv = (truePositives / totalFlagged) * 100;
            const falsePositivesPerTruePositive = falsePositives / truePositives;
            
            document.getElementById('treeContainer').innerHTML = `
                <div class="tree-level"><div class="tree-node root"><div class="node-label">Population Screened</div><div class="node-count">${formatNumber(population)}</div></div></div>
                <div style="width: 2px; height: 30px; background: #f56476; margin: 0 auto;"></div>
                <div class="tree-level">
                    <div class="tree-branches" style="margin-top: 0;">
                        <div class="branch-group">
                            <div class="branch-connector"></div>
                            <div class="tree-node condition-yes"><div class="node-label">Have Condition</div><div class="node-count">${formatNumber(actualPositives)}</div><div class="node-percent">(${(baseRate * 100).toFixed(2)}%)</div></div>
                            <div class="sub-branches">
                                <div class="sub-branch"><div class="sub-connector"></div><div class="tree-node true-positive"><div class="node-label">Test +</div><div class="node-count">${formatNumber(truePositives)}</div><div class="node-percent">True Positives</div></div></div>
                                <div class="sub-branch"><div class="sub-connector"></div><div class="tree-node false-negative"><div class="node-label">Test âˆ’</div><div class="node-count">${formatNumber(falseNegatives)}</div><div class="node-percent">False Negatives</div></div></div>
                            </div>
                        </div>
                        <div class="branch-group">
                            <div class="branch-connector"></div>
                            <div class="tree-node condition-no"><div class="node-label">No Condition</div><div class="node-count">${formatNumber(actualNegatives)}</div><div class="node-percent">(${((1 - baseRate) * 100).toFixed(2)}%)</div></div>
                            <div class="sub-branches">
                                <div class="sub-branch"><div class="sub-connector"></div><div class="tree-node false-positive"><div class="node-label">Test +</div><div class="node-count">${formatNumber(falsePositives)}</div><div class="node-percent">False Positives</div></div></div>
                                <div class="sub-branch"><div class="sub-connector"></div><div class="tree-node true-negative"><div class="node-label">Test âˆ’</div><div class="node-count">${formatNumber(trueNegatives)}</div><div class="node-percent">True Negatives</div></div></div>
                            </div>
                        </div>
                    </div>
                </div>`;
            
            document.getElementById('ppvDisplay').textContent = ppv.toFixed(1) + '%';
            document.getElementById('ppvExplain').innerHTML = `Of <strong>${formatNumber(totalFlagged)}</strong> positive tests, only <strong>${formatNumber(truePositives)}</strong> are true positives.<br>${formatNumber(truePositives)} Ã· (${formatNumber(truePositives)} + ${formatNumber(falsePositives)}) = <strong>${ppv.toFixed(1)}%</strong>`;
            
            document.getElementById('interpretationText').innerHTML = `
                <p>With a base rate of <span class="stat-highlight">1 in ${formatNumber(baseRateDenominator)}</span>, a <span class="stat-highlight">${(falsePositiveRate * 100).toFixed(1)}%</span> false positive rate, and <span class="stat-highlight">${(accuracy * 100).toFixed(0)}%</span> sensitivity, screening <span class="stat-highlight">${formatNumber(population)}</span> people generates:</p>
                <p>â€¢ <strong>${formatNumber(truePositives)}</strong> true positives (correctly identified)</p>
                <p>â€¢ <strong>${formatNumber(falsePositives)}</strong> false positives (incorrectly flagged)</p>
                <p>â€¢ <strong>${formatNumber(falseNegatives)}</strong> false negatives (missed cases)</p>
                <p>A positive test result has only a <span class="stat-highlight">${ppv.toFixed(1)}%</span> chance of being correct.</p>
                <p>For every real case found, approximately <span class="stat-highlight">${formatNumber(falsePositivesPerTruePositive)}</span> innocent people are flagged.</p>`;
            
            document.getElementById('placeholder').style.display = 'none';
            document.getElementById('resultsContent').classList.add('show');
        }
    </script>
</body>
</html>
